<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Caméra</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  
  <div class="camera-container">
    <!-- Message si pas de caméra -->
    <div *ngIf="!hasCamera" class="no-camera">
      <ion-icon name="camera-outline" size="large"></ion-icon>
      <h2>Caméra non disponible</h2>
      <p>Autorisez l'accès à la caméra dans les paramètres</p>
      <ion-button (click)="requestCameraPermission()" expand="block">
        Demander l'autorisation
      </ion-button>
    </div>

    <!-- Interface de capture -->
    <div *ngIf="hasCamera" class="camera-controls">
      <ion-button (click)="takePhoto()" expand="block" size="large" color="primary">
        <ion-icon name="camera"></ion-icon>
        Prendre une photo
      </ion-button>
    </div>

    <!-- Afficher les photos prises -->
    <div *ngIf="lastPhoto" class="last-photo">
      <h3>Dernière photo :</h3>
      <img [src]="lastPhoto" alt="Dernière photo" style="max-width: 100%; height: auto; border-radius: 8px;">
    </div>
  </div>

</ion-content>
