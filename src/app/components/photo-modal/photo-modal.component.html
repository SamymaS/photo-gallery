<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>D√©tails de la photo</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="close()" fill="clear">
        <ion-icon name="close-outline" size="large"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="modal-content">
  
  <!-- Image principale -->
  <div class="image-container">
    <ion-img 
      [src]="photo.webviewPath || photo.filepath" 
      alt="Photo">
    </ion-img>
    <div class="image-gradient"></div>
  </div>

  <!-- Actions rapides -->
  <div class="quick-actions">
    <ion-button 
      (click)="toggleLike()" 
      [color]="photo.liked ? 'danger' : 'medium'"
      fill="clear"
      class="action-button">
      <ion-icon [name]="photo.liked ? 'heart' : 'heart-outline'"></ion-icon>
    </ion-button>
    
    <ion-button 
      (click)="openOnMap()" 
      color="primary"
      fill="clear"
      class="action-button"
      *ngIf="photo.coords">
      <ion-icon name="map-outline"></ion-icon>
    </ion-button>
    
    <ion-button 
      (click)="delete()" 
      color="danger"
      fill="clear"
      class="action-button">
      <ion-icon name="trash-outline"></ion-icon>
    </ion-button>
  </div>

  <!-- Informations -->
  <ion-list lines="none" class="info-list">
    
    <!-- Date -->
    <ion-item class="info-item">
      <ion-icon name="calendar-outline" slot="start" color="primary"></ion-icon>
      <ion-label>
        <h3>Date de capture</h3>
        <p>{{ getDateLabel() }}</p>
      </ion-label>
    </ion-item>

    <!-- Coordonn√©es GPS -->
    <ion-item *ngIf="photo.coords" class="info-item">
      <ion-icon name="location-outline" slot="start" color="success"></ion-icon>
      <ion-label>
        <h3>Localisation</h3>
        <p *ngIf="city" style="font-weight: 600; color: var(--ion-color-primary);">
          üìç {{ city }}
        </p>
        <p *ngIf="!city && !isLoadingAddress" style="font-size: 12px; color: var(--ion-color-medium);">
          {{ getCoordinatesLabel() }}
        </p>
        <p *ngIf="isLoadingAddress" class="loading-text">
          Chargement...
        </p>
      </ion-label>
    </ion-item>

    <!-- Like -->
    <ion-item class="info-item">
      <ion-icon 
        [name]="photo.liked ? 'heart' : 'heart-outline'" 
        slot="start" 
        [color]="photo.liked ? 'danger' : 'medium'">
      </ion-icon>
      <ion-label>
        <h3>Statut</h3>
        <p>{{ photo.liked ? 'Cette photo est dans vos favoris ‚ù§Ô∏è' : 'Ajoutez cette photo √† vos favoris' }}</p>
      </ion-label>
    </ion-item>

  </ion-list>
</ion-content>

